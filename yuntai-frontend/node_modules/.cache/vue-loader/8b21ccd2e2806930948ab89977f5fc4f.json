{"remainingRequest":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenchi03/IdeaProjects/yuntai-frontend/src/views/statistics/visit/pagePath.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/src/views/statistics/visit/pagePath.vue","mtime":1672390204000},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1749371729293},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/babel-loader/lib/index.js","mtime":1749371729596},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1749371729293},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/vue-loader/lib/index.js","mtime":1749371729670}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKaW1wb3J0IGFwaSBmcm9tICdAL2FwaS9zdGF0aXN0aWNzL3Zpc2l0L3Zpc2l0JwoKZXhwb3J0IGRlZmF1bHQgewogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdoua4suafk+aIkOWKnwogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vZGVEYXRhOiBbXSwKICAgICAgc2VhcmNoT2JqOiB7CiAgICAgICAgcmVjZW50RGF5czogdGhpcy4kcGFyZW50LnJlY2VudERheXMsCiAgICAgICAgZHQ6IHRoaXMuJHBhcmVudC5jdXJEYXRlCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuc2VhcmNoT2JqLnJlY2VudERheXMgPSB0aGlzLiRwYXJlbnQucmVjZW50RGF5cwogICAgICB0aGlzLnNlYXJjaE9iai5kdCA9IHRoaXMuJHBhcmVudC5jdXJEYXRlCiAgICAgIC8qKgogICAgICAgKiDnlKjmiLfot6/lvoTliIbmnpDmjqXlj6MKICAgICAgICovCiAgICAgIGFwaS5nZXRQYWdlUGF0aERhdGEodGhpcy5zZWFyY2hPYmopLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubm9kZURhdGEgPSByZXNwb25zZS5kYXRhLm5vZGVEYXRhOwogICAgICAgIHRoaXMubGlua3NEYXRhID0gcmVzcG9uc2UuZGF0YS5saW5rc0RhdGE7CiAgICAgICAgdGhpcy5zZXRDaGFydERhdGEoKTsKICAgICAgfSkuY2F0Y2gocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCflpLHotKUnICsgcmVzcG9uc2UpOwogICAgICAgIHRoaXMuc2V0Q2hhcnREYXRhKCk7CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiBlY2hhcnTmoZHln7rlm74KICAgICAqLwogICAgc2V0Q2hhcnREYXRhKCkgewogICAgICBjb25zdCBvcHRpb24gPSB7CiAgICAgICAgY29sb3I6IFsnI2ZjODUzZScsICcjMjhjYWQ4JywgJyM5NTY0YmYnLCAnI2JkNDA3ZScsICcjZTVhMjE0J10sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfnlKjmiLfot6/lvoTliIbmnpAnLAogICAgICAgICAgc3VidGV4dDogdGhpcy4kcGFyZW50LmRhdGVSYW5nZQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiB7CiAgICAgICAgICB0eXBlOiAnc2Fua2V5JywKICAgICAgICAgIGxheW91dDogJ25vbmUnLAogICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgZm9jdXM6ICdhZGphY2VuY3knCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogdGhpcy5ub2RlRGF0YSwKICAgICAgICAgIGxpbmtzOiB0aGlzLmxpbmtzRGF0YSwKICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAvLyDvvIgz77yJIOexu+S8vOafseeKtuWbvuWumuS5ieWkmuS4quminOiJsu+8jOWIqeeUqOWHveaVsOi/lOWbnuS4jeWQjOeahOminOiJsuWAvAogICAgICAgICAgICAvLwkJ57uT5p6c5ZCM5LiK77yM5YWo5Y+Y5oiQ6buR6Imy5LqGCiAgICAgICAgICAgIGNvbG9yOiBmdW5jdGlvbiAocGFyYW0pIHsKICAgICAgICAgICAgICB2YXIgY29sb3JMaXN0ID0gWycjODlhYWU2JywgJyMxNzdjYjAnLCAnIzVhNzliYScsICcjOThhNmRkJywgJyM4YjZlYWYnLCAnIzY3YWZjOCddCiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTGlzdFtwYXJhbS5kYXRhSW5kZXhdCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwogICAgICB2YXIgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZVBhdGhDaGFydCcpKTsKICAgICAgbXlDaGFydC5jbGVhcigpOwogICAgICAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIIKICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["pagePath.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagePath.vue","sourceRoot":"src/views/statistics/visit","sourcesContent":["<!--用户路径分析-->\n<template>\n  <el-row :gutter=\"24\" class=\"el-row\">\n    <el-col :span=\"24\" class=\"el-card\">\n      <div>\n        <div id=\"pagePathChart\" style=\"width:100%; height:500px;\" />\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nimport api from '@/api/statistics/visit/visit'\n\nexport default {\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    this.init()\n  },\n  data() {\n    return {\n      nodeData: [],\n      searchObj: {\n        recentDays: this.$parent.recentDays,\n        dt: this.$parent.curDate\n      }\n    }\n  },\n  methods: {\n    init() {\n      this.searchObj.recentDays = this.$parent.recentDays\n      this.searchObj.dt = this.$parent.curDate\n      /**\n       * 用户路径分析接口\n       */\n      api.getPagePathData(this.searchObj).then(response => {\n        this.nodeData = response.data.nodeData;\n        this.linksData = response.data.linksData;\n        this.setChartData();\n      }).catch(response => {\n        console.log('失败' + response);\n        this.setChartData();\n      })\n    },\n    /**\n     * echart桑基图\n     */\n    setChartData() {\n      const option = {\n        color: ['#fc853e', '#28cad8', '#9564bf', '#bd407e', '#e5a214'],\n        title: {\n          text: '用户路径分析',\n          subtext: this.$parent.dateRange\n        },\n        series: {\n          type: 'sankey',\n          layout: 'none',\n          emphasis: {\n            focus: 'adjacency'\n          },\n          data: this.nodeData,\n          links: this.linksData,\n          normal: {\n            // （3） 类似柱状图定义多个颜色，利用函数返回不同的颜色值\n            //\t\t结果同上，全变成黑色了\n            color: function (param) {\n              var colorList = ['#89aae6', '#177cb0', '#5a79ba', '#98a6dd', '#8b6eaf', '#67afc8']\n              return colorList[param.dataIndex]\n            }\n          }\n        }\n      }\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = echarts.init(document.getElementById('pagePathChart'));\n      myChart.clear();\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    }\n  }\n}\n</script>"]}]}