{"remainingRequest":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenchi03/IdeaProjects/yuntai-frontend/src/views/statistics/real/province.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/src/views/statistics/real/province.vue","mtime":1672390202000},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1749371729293},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/babel-loader/lib/index.js","mtime":1749371729596},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1749371729293},{"path":"/Users/chenchi03/IdeaProjects/yuntai-frontend/node_modules/vue-loader/lib/index.js","mtime":1749371729670}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvc3RhdGlzdGljcy9yZWFsL3JlYWx0aW1lIjsKZXhwb3J0IGRlZmF1bHQgewogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdoua4suafk+aIkOWKnwogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMuZ2V0R01WKCk7CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcEpzb246IHt9LAogICAgICBkYXVUb3RhbDogMCwKICAgICAgYXJlYURhdGE6IFtdLAogICAgICBtaW46IDAsCiAgICAgIG1heDogMAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB0b2RheTogJycKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRhKGFyZWFEYXRhKSB7CiAgICAgIGlmIChhcmVhRGF0YSAmJiBhcmVhRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5taW4gPSBhcmVhRGF0YVswXVsndmFsdWUnXTsKICAgICAgICB0aGlzLm1heCA9IGFyZWFEYXRhW2FyZWFEYXRhLmxlbmd0aCAtIDFdWyd2YWx1ZSddOwogICAgICB9CiAgICB9LAogICAgaW5pdCgpIHsKICAgICAgYXBpLmdldFByb3ZpbmNlU3RhdHModGhpcy50b2RheSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5hcmVhRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5pbml0RGF0YSh0aGlzLmFyZWFEYXRhKTsKICAgICAgICB0aGlzLnNldENoYXJ0RGF0YSgpOwogICAgICB9KS5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+Wksei0pScgKyByZXNwb25zZSk7CiAgICAgIH0pCiAgICB9LAogICAgZ2V0R01WKCkgewogICAgICBhcGkuZ2V0R01WKHRoaXMudG9kYXkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZGF1VG90YWwgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+Wksei0pScgKyByZXNwb25zZSk7CiAgICAgIH0pCiAgICB9LAogICAgc2V0Q2hhcnREYXRhKCkgewogICAgICAvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LCiAgICAgIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXBDaGFydCIpKTsKCiAgICAgIG15Q2hhcnQuc2hvd0xvYWRpbmcoKTsKCiAgICAgIGF4aW9zLmdldCgiY2hpbmEuanNvbiIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5tYXBKc29uID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgbXlDaGFydC5oaWRlTG9hZGluZygpOwoKICAgICAgICBlY2hhcnRzLnJlZ2lzdGVyTWFwKCJDSE4iLCB0aGlzLm1hcEpzb24pOwogICAgICAgIGNvbnN0IG9wdGlvbiA9IHsKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6ICLlkITnnIHku73kuqTmmJPnu5/orqEiLAogICAgICAgICAgICBsZWZ0OiAiY2VudGVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgIHRyaWdnZXI6ICJpdGVtIiwKICAgICAgICAgICAgc2hvd0RlbGF5OiAwLAogICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDAuMiwKICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gKHBhcmFtcy52YWx1ZSArICIiKS5zcGxpdCgiLiIpOwogICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbMF0ucmVwbGFjZSgvKFxkezEsM30pKD89KD86XGR7M30pKyg/IVxkKSkvZywgIiQxLCIpOwogICAgICAgICAgICAgIHJldHVybiBwYXJhbXMuc2VyaWVzTmFtZSArICI8YnIvPiIgKyBwYXJhbXMubmFtZSArICI6ICIgKyB2YWx1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB2aXN1YWxNYXA6IHsKICAgICAgICAgICAgbGVmdDogInJpZ2h0IiwKICAgICAgICAgICAgbWluOiB0aGlzLm1pbiwKICAgICAgICAgICAgbWF4OiB0aGlzLm1heCwKICAgICAgICAgICAgaW5SYW5nZTogewogICAgICAgICAgICAgIGNvbG9yOiBbIiNGQUNFOUMiLCAiI0I2MjkyQiJdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRleHQ6IFsiSGlnaCIsICJMb3ciXSwgLy8g5paH5pys77yM6buY6K6k5Li65pWw5YC85paH5pysCiAgICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgICAgdG9vbGJveDogewogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAvL29yaWVudDogJ3ZlcnRpY2FsJywKICAgICAgICAgICAgbGVmdDogInJpZ2h0IiwKICAgICAgICAgICAgdG9wOiAidG9wIiwKICAgICAgICAgICAgZmVhdHVyZTogewogICAgICAgICAgICAgIGRhdGFWaWV3OiB7IHJlYWRPbmx5OiBmYWxzZSB9LAogICAgICAgICAgICAgIHJlc3RvcmU6IHt9LAogICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIHR5cGU6ICJtYXAiLAogICAgICAgICAgICAgIHJvYW06IHRydWUsCiAgICAgICAgICAgICAgbWFwOiAiQ0hOIiwKICAgICAgICAgICAgICBlbXBoYXNpczogewogICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiB0aGlzLmFyZWFEYXRhLAogICAgICAgICAgICB9LAogICAgICAgICAgXSwKICAgICAgICB9OwogICAgICAgIC8vIOS9v+eUqOWImuaMh+WumueahOmFjee9rumhueWSjOaVsOaNruaYvuekuuWbvuihqOOAggogICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["province.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"province.vue","sourceRoot":"src/views/statistics/real","sourcesContent":["<template>\n  <el-row :gutter=\"24\" class=\"el-row\">\n    <el-col :span=\"24\" class=\"el-card\">\n      <div class=\"grid-content bg-purple\">\n        <div label-width=\"80px\" size=\"mini\" style=\"margin-top: 60px;text-align:center;\">\n          <div class=\"trend-overview-date\">今日总交易额</div>\n          <div class=\"trend-overview-number\">{{ dauTotal }}</div>\n        </div>\n      </div>\n      <div id=\"mapChart\" style=\"width: 100%; height: 400px\" />\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport axios from \"axios\";\nimport api from \"@/api/statistics/real/realtime\";\nexport default {\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    this.init();\n    this.getGMV();\n  },\n\n  data() {\n    return {\n      mapJson: {},\n      dauTotal: 0,\n      areaData: [],\n      min: 0,\n      max: 0\n    };\n  },\n  props: {\n    today: ''\n  },\n  methods: {\n    initData(areaData) {\n      if (areaData && areaData.length > 0) {\n        this.min = areaData[0]['value'];\n        this.max = areaData[areaData.length - 1]['value'];\n      }\n    },\n    init() {\n      api.getProvinceStats(this.today).then(response => {\n        this.areaData = response.data;\n        this.initData(this.areaData);\n        this.setChartData();\n      }).catch(response => {\n        console.log('失败' + response);\n      })\n    },\n    getGMV() {\n      api.getGMV(this.today).then(response => {\n        this.dauTotal = response.data;\n      }).catch(response => {\n        console.log('失败' + response);\n      })\n    },\n    setChartData() {\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = echarts.init(document.getElementById(\"mapChart\"));\n\n      myChart.showLoading();\n\n      axios.get(\"china.json\").then((response) => {\n        this.mapJson = response.data;\n\n        myChart.hideLoading();\n\n        echarts.registerMap(\"CHN\", this.mapJson);\n        const option = {\n          title: {\n            text: \"各省份交易统计\",\n            left: \"center\",\n          },\n          tooltip: {\n            trigger: \"item\",\n            showDelay: 0,\n            transitionDuration: 0.2,\n            formatter: function (params) {\n              var value = (params.value + \"\").split(\".\");\n              value = value[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, \"$1,\");\n              return params.seriesName + \"<br/>\" + params.name + \": \" + value;\n            },\n          },\n          visualMap: {\n            left: \"right\",\n            min: this.min,\n            max: this.max,\n            inRange: {\n              color: [\"#FACE9C\", \"#B6292B\"]\n            },\n            text: [\"High\", \"Low\"], // 文本，默认为数值文本\n            calculable: true,\n          },\n          toolbox: {\n            show: true,\n            //orient: 'vertical',\n            left: \"right\",\n            top: \"top\",\n            feature: {\n              dataView: { readOnly: false },\n              restore: {},\n              saveAsImage: {},\n            },\n          },\n          series: [\n            {\n              type: \"map\",\n              roam: true,\n              map: \"CHN\",\n              emphasis: {\n                label: {\n                  show: true,\n                },\n              },\n              data: this.areaData,\n            },\n          ],\n        };\n        // 使用刚指定的配置项和数据显示图表。\n        myChart.setOption(option);\n      });\n    }\n  }\n};\n</script>\n\n"]}]}